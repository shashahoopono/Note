# Web技術與機制


## 一、Web技術的基礎概念

> 網站 = 網頁瀏覽器(Web Browser) + 網路 + 伺服器(Server)

- 伺服器(服務器)：提供某一服務與功能，如網頁伺服器、應用程式伺服器、資料庫伺服器、安全性伺服器等......。

### (一)透過網路為媒介提供的機制

- 全球資訊網WWW

- 超文件與超連結

- 網站：網站是文字網頁的集合體，規模可分超大(網站頁數>10,000)、大(網站頁數>1,000)、中(網站頁數100-1,000)、小(網站頁數<100)，可利用搜尋site:指令查詢網站頁數。

### (二)網路系統架構

- 網頁瀏覽器：Chrome、Edge、請求(Request)回應(Response)與渲染(Rendering)

- 網頁伺服器：Linux、Windows Server、UNIX

- 網頁應用程式：API

- 網路系統配置：自家管理(本地系統)與外包代管(網路供應商ISP&雲端服務Cloud)

- 瀏覽網頁：URL、FQDN、網域名稱、網際網路交換中心(IX)

- 網路與Web的關係

> 網路 = 電子郵件 + Web

---

## 二、Web技術的變遷與發展

### (一)Web技術變遷

- 紀錄系統(SoR)、參與性系統(SoE)、低程式碼、無程式碼

### (二)Web技術發展

- 網站開發：網頁設計、UIUX、HTML、CSS、靜態與動態頁面、HTTP要求與回應、開發者工具、動態頁面程式觸發(CGI)

- 腳本語言：用戶端與伺服器、JS&TS、PHP&CMS

- 連線機制：傳輸一次就終止連線的無狀態(Stateless)、重新連線機制(Cookie)、連續處理(Session)

- 前後台(端)交互：HTTP協定、訊息、請求、方法、回應

---

## 三、Web伺服器與連線機制

### (一)伺服器：Web & 電子郵件 & 共同支援

- 網路 = 電子郵件(SMTP&POP3) + Web(網頁&FTP)

- 共同支援：連結網域名稱與IP(DNS)、代理(Proxy)、加密處理瀏覽器與伺服器(SSL)


### (二)Web連線機制

- TCP/IP通訊協定

- IP & MAC位置、指派IP位置(DHCP)

- 連接埠編號

- 建置伺服器：租用&雲端(AWS,Azure,GCP)、更新OS安裝Apache、權限

- 檔案伺服器與伺服器資源管理：Windows(Windows Server)、Linux (Samba)

---

## 四、Web現況趨勢概述

### (一)Web現況

- 網站類型：購物、社群、入口、官方形象網站

- 行動裝置：多元裝置、響應式網站設計

- 搜尋引擎與SEO：Google、Yahoo、Bing、搜尋引擎關鍵字優化


### (二)Web趨勢
- 由內部轉為外部

- 數位行銷、社群行銷與精準行銷：洞察報告解讀分析

- 線上購物成長

- 5G通訊

---

## 五、非Web的系統

### (一)無法轉型的無網路系統

- 社會基礎建設：公共交通運輸、電力公司，金融金流、醫療病歷(已有雲端化趨勢)

- 尚未虛擬化->雲端化之本地系統：虛擬伺服器

### (二)類型不同的系統

- 高度相容：電子郵件伺服器(SMTP、POP3)

- 網際網路以外的網路：LAN、WAN、內部網路

---

## 六、雲端服務

### (一)雲端運算技術：透過網路使用資訊系統或伺服器

- 類型：IaaS、Paas、SaaS、本機部署(On-Premises)、雲端原生環境開發

- 型態：混合雲、私有雲、虛擬私有雲(VPC)

- 業者：巨型供應商，協力廠商、科技公司、電信業者、網路供應商

### (二)雲端服務與資料中心

- 服務類型：Hosting、Housing、Co-loaction

- 管理資源機制：控制器、OSS->OpenStack(IaaS)、Cloud Foundry(Paas)

- 雲端化：移植 = 伺服器虛擬化 -> 系統雲端化

---

## 七、建置網站

### (一)前製準備

- 目的功能：資料庫使用

- 目標客群：人物誌、顧客旅程地圖

- 內容：上線內容、網站設計、系統開發與服務功能、SEO對策、流量監控佈局與分析、系統維護與監控

- 多元行動裝置瀏覽：媒體類型

### (二)網站上線

- 取得網域名稱：受理註冊機構、註冊管理機構

- 個人資料與消費者保護：一般資料保護規範(GDPR)、特定商業交易法(支付與退貨方式)

- HTTP & HTTPS：轉址


### (三)網站管理

- 圖檔類型：JPEG、PNG、GIF / 影音檔案：mov、mp4、下載與串流

- 防止複製

- 流量分析

- 網站三角色：使用者(HTTP)、網站管理員(FTP)、網域管理員(安全性連線SSH)與其連線方式

---

## 八、Web系統功能開發功能

### (一)網頁應用程式(功能)架構與設計

- 後台架構：MySQL、建置伺服器之OSS軟體& 運作環境(LAMP)

- 設計思維：MCV架構、三層伺服器架構(網頁->AP->DB)

- 開發框架與編譯語言：React、Vue(JavaScript)、Angular(TypeScript)、JSP(Java / Servlet)、ASP.NET(C#)、CSS(SCSS、SASS)

### (二)網頁前後台(端)的交互作用

- 前後台(端)的界線轉變：在前台(端)完成處理、以JS在後台(端)伺服器開發的Node.js

- 系統資料交換格式：CSV、JSON﹑XML、XTML

- 混搭與邊緣運算技術：API、物聯網、打包服務(容器化)
- 
- 結帳處理：直接連結(CGI)、資料傳送(API)、代碼(使用指令加密)

### (三)伺服器虛擬化與性能負荷

- Hypervisor/ VMM（Virtual Machine Monitor）虛擬監控機器：完整虛擬環境，OS與虛擬化軟體難以分別，故障時難以辨別何處出問題。

- Host OS & Guest OS：電腦上的OS及指安裝在VM(虛擬機器)的OS：透過Host OS存取。

- 測試負荷工具：Apache JMeter(同時連線數、連線間隔時間、重複次數)

- 監控CPU核心與記憶體使用：Linux的dstat指令

- 預估性能以決定伺服器規格：加總計算使用者需要、參考實例或建議、實際驗證測量資料預估

### (四)虛擬化系統與容器

- 輕量化虛擬架構：容器(Container)&虛擬化軟體(Docker)：將OS分隔成合適的Container，Container中的Host OS&Guest OS共用核心功能。

- 容器機制：依服務或系統功能建立各個容器內容，再以一對一或多對一方式建立虛擬伺服器。

- 容器管理與協調：Kubernetes(k8s/OSS)控制容器間關係與執行順序，係虛擬伺服器與實體伺服器間互動方式。

### (五)系統資料分析

- 系統資料：應用程式所收集資料與存取系統產生之歷程資料，存放於資料庫或OS的Log資料夾，使用容器技術則需以Docker或Kubernetes等容器型虛擬平台，透過遠端複製或FTP等另外方式來取得歷程資料Log。

- 搜尋資料工具Elasticsearch與資料視覺化工具Kibana：分析結果為Index檔案，Kibana則根據其內容繪製圖表

--- 

## 九、Web系統安全性與維運

### (一)網路與資訊系統的威脅

- 不當存取：分為內部與外部，可能導致資料外洩。

- 惡意攻擊：郵件與附件攻擊、大量資訊攻擊致使當機、冒名使用盜取驗證資訊、OS漏洞攻擊

### (二)網路與資訊系統威脅的安全性對策

- 外部不當存取：建立階層式多重防禦，如防火牆、非軍事區(DMZ)、負載均衡器、加密與伺服器之交換資料。整合式威脅管理(UTM)將所有功能整合於同一硬體。
    - **非軍事區(DMZ)**：由入侵偵測系統(IDS)與入侵防護系統(IPS)組成，可統稱IDPS，前者為監控異常，後者為組異常。還可能會有包括電子郵件篩檢、病毒防護伺服器等。擋住異常存取與DoS攻擊。
    - **網站應用程式防火牆(WAF)**：利用黑白名單與歷程分析資料，比對檢查通訊內容是否包含不當資料、SQL隱碼攻擊及跨站腳本攻擊(Cross Site Script)

    - **身分認證與保護**：多重要素驗證技術(MFA)、預防機器人密碼破解之CAPTCHA、連線劫奪阻斷異常
    
- 內部不當存取：使用者管理、確認存取歷程資料、監控操作。
    - 存取與使用權限限制：多重驗證與角色權限設置

    - 資料保密：VPN、SSL加密資料

    - 追蹤與監控

### (三)正式上線後管理兩大模式

> 包含**運作管理**與**系統維護**兩種模式

- 可用Zabbix或Hinemos等專用監控管理軟體(OSS)

| 人員           | 管理內容                             | 運作方式 |
| --------------| ------------------------------------| -------- |
| 系統運作負責人  | 運作監控、性能管理、變更架構、障礙排除     |定型、制式化    |
| 系統工程師     | 性能管理、版本升級、追加功能、排除障礙與錯誤|非定型、制式化|

- 管理伺服器性能：監控CPU與記憶體使用率

- 程序優先順序調整：以工作管理員或Linux系統renice指令，設定調整優先順序高(H)﹑標準(N)、低(L)，避免同時處理而造成伺服器負擔過重。

- 障礙排除：
    - 容錯系統(FTS)：發生故障仍能繼續運作之系統。

    - 叢集與負載均衡兩大策略
    
| 技術 | 作用 | 性質 |
|-----|-----|------|
|叢集  | 當主要型(Active)故障時會切換成為備援型(Standby)，分為熱待機、暖待機與冷待機。 | 冗餘式機制 |
|負載均衡  | 分擔於多台伺服器以避免過度負擔發生故障 | 負載均衡 |

- 備份方式與時機：

|備份方式|時機|
|-----|-----|
|熱待機|隨時備份主要伺服器資料到備援伺服器，故障時立刻切換。|
|暖待機|陽春備用伺服器持續運作。|
|故障轉移模式(Failover)|自行重新啟動再切換到備援型伺服器。|
|冷待機|故障後才啟動備援伺服器。|

- 手動FTP備份與自動備份服務：差異點在還原程序與時間，前者需調查原因、下載用來還原之備份檔案，才能進行還原，相對耗時，後者則直接執行完整還原系統，處理起來較簡單快速。


###### tags: `學習筆記`, `WEB技術`,`WEB連線機制`,`雲端服務`,`資安`